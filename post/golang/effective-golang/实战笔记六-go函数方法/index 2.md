
>转载自 https://www.flysnow.org

## 简介
在Go语言中，函数和方法不太一样，有明确的概念区分。函数是指不属于任何结构体、类型的方法，也就是说，函数是没有接收者的；而方法是有接收者的，我们说的方法要么属于一个结构体，要么属于一个新定义的类型。
### 1. 函数
函数和方法，虽然概念不同，但是定义非常相似。函数的定义声明没有接收者，所以我们直接在go文件里，go包之下定义声明即可。
		func main(){
		    sum := add(1,2)
		    fmt.Println(sum)
		}
		
		func add(a,b int) int {
		    return a + b
		}
例子中，我们定义了add就是一个函数，它的函数签名是func add(a, b int) int,没有接收者，直接定义在go的包之下，可以直接调用，比如例子中的main函数调用了add函数。
例子中的这个函数名称是小写开头，所以它的作用域只属于所声明的包内使用，不能被其它包使用，如果我们把函数名以大写字母开头，该函数的作用域就大了，可以被其它包调用，这也是go语言中大小写的用处，相当于java中的privete、protected、public等。
### 2. 方法
方法的声明和函数类似，它们的区别是：方法在定义的时候，会在func和方法名之间增加一个参数，这个参数就是接收者，这样我们定义的这个方法就和接收者绑定在了一起，称之为这个接收者的方法。
		type person struct {
		    name string
		}
		
		func (p person) String() string{
		    return "the person name is " + p.name
		}
留意例子中，func和方法名之间增加的参数(p person) ，这个就是接收者。现在我们说，类型person有了一个String方法，现在我们看下如何使用它。
		func main(){
		    p := person{name: "张三"}
		    fmt.println(p.String())
		}
调用的方法非常简单，使用类型的变量进行调用即可，类型变量和方法之前是一个点操作符，表示要调用这个类型变量的某个方法的意思。
go语言里有两种类型的接收者：值接收者和指针接收者。我们上面的例子中，就是使用值类型接收者示例。
使用值类型接收者定义的方法，在调用的时候，使用的其实是值接收者的一个副本，所以对该值的任何操作，不会影响原来的类型变量。
如果我们使用一个指针作为接收者，那么就会其作用了，因为指针接收者传递的是一个指向原值指针的副本，指向的还是原来类型的值，所以修改时，同时也会影响原来的类型变量值。
		type person struct{
		    name string
		}
		func (p person) String() string{
		    return "the person name is " + p.name
		}
		func (p *person) modify(){
		    p.name = "莉丝"
		}
		func main(){
		    p := person{name:"只是"}
		    p.modify()
		    fmt.Println(p.String())
		}
在调用方法的时候，传递的接收者本质上都是副本，只不过一个是这个值副本，一是指向这个值指针的副本。指针具有指向原来值的特性，所以修改了指针指向的值，也就修改了原有的值。我们可以简单的理解为值接收者使用的是值的副本来调用方法，而指针接收者使用实际的值来调用方法。
在上面的例子中，你有没有发现，我们在调用指针接收者方法的时候，使用的也是一个值的变量，并不是一个指针，这样也是可以的。
		(&p).modify()
如果我们没有强制使用指针进行调用，go编译器自动会帮我们取指针，以满足接收者的要求。
同样的，如果是一个值接收者的方法，使用指针也是可以调用的，go编译器自动会解引用，以满足接收者的要求.
		(*p).name = ""
不管是使用值接收者还是指针接收者，一定要搞清楚类型的本质：对类型进行操作的时候，是要改变当前的值，还是要创建一个新值进行返回？这些就可以决定我们是采用值传递还是指针传递。
### 3. 多返回值
go语言支持函数方法的多值返回，也即是说我们定义的函数方法可以返回多个值，比如标准库里的很多方法，都是返回两个值，第一个是函数需要返回的值，第二个是出错时返回的错误信息，这种的好处，我们的出错异常信息再也不用像java一样使用一个exception这么重的方法表示了，非常简洁。
		func main(){
		    file, err := os.Open("/usr/tmp")
		    if err != nil {
		        log.Fatal(err)
		        return
		    }
		    fmt.Println(file)
		}
如果返回的值，我们不想使用，可以使用_进行忽略。
		file, _ := os.Open("/usr/tmp")
多个值返回的定义也非常简单
		func add(a, b int) (int, error) {
		    return a + b, nil
		}
函数方法声明定义的时候，采用逗号分割，因为是多个返回，还需要用括号括起来。返回的值还是使用return关键字，以逗号分割，和返回的声明的顺序一致。
### 4. 可变参数
函数方法参数可以是任意多个，这种我们称之为可变参数，比如我们常用的fmt.Println()这类函数，可以接收一个可变参数。
我们也可以定义可变参数，可变参数的定义，在类型前加上省略号即可。
		func print(a ...interface{}) {
		    for _, v := range a {
		        fmt.Print(v)
		    }
		    fmt.Println()
		}
		func main(){
		    print("1","2","3")
		}
可变参数的本质是一个数组，所以我们可以像使用数组一样使用它，比如for range循环。
